{% extends "base.html" %} {% block title %}Edit - {{ recipe.title }}{% endblock
%} {% block content %}
<div class="container my-4">
  <h1 class="mb-4">
    <i class="material-icons align-middle">edit</i> Edit Recipe
  </h1>

  <form
    method="post"
    enctype="multipart/form-data"
    class="card p-4 shadow-sm"
    id="edit-form"
  >
    <div class="mb-3">
      <label class="form-label">Title</label>
      <input
        name="title"
        class="form-control"
        required
        maxlength="200"
        value="{{ recipe.title }}"
      />
    </div>

    <div class="mb-3">
      <label class="form-label">Short description</label>
      <textarea name="description" rows="3" class="form-control">
{{ recipe.description }}</textarea
      >
    </div>

    <div class="mb-3">
      <label class="form-label">Ingredients (one per line)</label>
      <textarea name="ingredients" rows="5" class="form-control">
{{ recipe.ingredients }}</textarea
      >
    </div>

    <div class="mb-3">
      <label class="form-label">Instructions</label>
      <textarea name="instructions" rows="8" class="form-control">
{{ recipe.instructions }}</textarea
      >
    </div>

    <div class="mb-3">
      <label class="form-label">Current image</label>
      {% if image_data %}
      <div class="mb-2">
        <img
          src="{{ url_for('recipes.recipe_image', recipe_id=recipe['id']) }}"
          class="img-fluid rounded"
          alt="current"
        />
      </div>
      <div class="form-check">
        <input
          type="checkbox"
          class="form-check-input"
          name="remove_image"
          id="remove_image"
        />
        <label class="form-check-label" for="remove_image"
          >Remove current image</label
        >
      </div>
      {% else %}
      <p class="text-muted">No current image.</p>
      {% endif %}
    </div>

    <div class="mb-3">
      <label class="form-label">Replace with new image (optional)</label>
      <input type="file" name="image" class="form-control" accept="image/*" />
    </div>

    <button type="submit" class="btn btn-primary">
      <i class="material-icons align-middle">save</i> Save changes
    </button>
  </form>
</div>
{% endblock %}
